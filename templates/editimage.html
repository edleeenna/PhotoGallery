<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h1>Photo Gallery - Edit an Image</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12" >
      <img class="img-responsive center-block" id="editimage" data-ng-src="{{newObj.url}}" alt="{{newObj.description}}"/>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <form name="editForm" id="editForm" class="form-horizontal" novalidate="novalidate">
          <fieldset>
            <legend>Edit image</legend>
            <div class="form-group">
              <label class="control-label col-sm-2" for="imageid">Id:
              </label>
              <div class="col-sm-5">
                <input type="text" class="form-control" name="imageid" id="imageid" data-ng-model="newObj.id" value="{{newObj.id}}" disabled>
              </div>
              <div class="col-sm-5">
              </div>
            </div>
            <div class="form-group" data-ng-class="{'has-error': editForm.title.$invalid, 'has-success': editForm.title.$valid}">
              <label class="control-label col-sm-2" for="title">Title:</label>
              <div class="col-sm-5">
                <input type="text" class="form-control" id="title" name="title" data-ng-model="newObj.title" required>
              </div>
              <div class="col-sm-5">
                <p data-ng-show="editForm.title.$error.required" >Title is required</p>
              </div>
            </div>
            <div class="form-group" data-ng-class="{'has-error': editForm.description.$invalid, 'has-success': editForm.description.$valid}">
              <label class="control-label col-sm-2" for="description">Description: </label>
              <div class="col-sm-5">
                <input type="text" class="form-control" id="description" name="description"  data-ng-model="newObj.description" required>
              </div>
              <div class="col-sm-5">
                <p data-ng-show="editForm.description.$error.required">Description is required</p>
              </div>
            </div>
            <div class="form-group" data-ng-class="{'has-error': editForm.date.$invalid, 'has-success': editForm.date.$valid}">
              <label class="control-label col-sm-2" for="date">Date: </label>
              <div class="col-sm-5">
                <input type="text" class="form-control" id="date" name="date" data-ng-model="newObj.date" pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])" required>
              </div>
              <div class="col-sm-5">
                <p data-ng-show="editForm.date.$error.required">Date is required</p>
                <p data-ng-show="editForm.date.$error.pattern">Please enter date in the required format</p>
              </div>
            </div>
            <div class="form-group" data-ng-class="{'has-error': editForm.url.$invalid, 'has-success': editForm.url.$valid}">
                    <label class="control-label col-sm-2" for="url">URL: </label>
                    <div class="col-sm-5">

                      <input type="url" class="form-control" id="url" placeholder="https://" name="url" data-ng-model="newObj.url" pattern="https?://.+" disabled required>
                    </div>
                    <div class="col-sm-5">
                      <p data-ng-show="editForm.url.$error.pattern">Please match the required format</p>
                    <p data-ng-show="editForm.url.$error.required">URL is required</p>
                    </div>
                  </div>
            <div class="form-group" data-ng-class="{'has-error': editForm.keywords.$invalid, 'has-success': editForm.keywords.$valid}">
              <label class="control-label col-sm-2" for="keywords">Keywords: </label>
              <div class="col-sm-5">
                <input type="text" class="form-control" id="keywords"  placeholder="{{newObj.keywords}}" name="keywords" data-ng-model="newObj.keywords" value="{{newObj.keywords}}" required>
              </div>
              <div class="col-sm-5">
                <p data-ng-show="editForm.keywords.$error.required">Keywords is required</p>
              </div>
            </div>
          </fieldset>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <button type="submit" class="btn btn-default" data-ng-click="putData(newObj.id,newObj.title, newObj.description, newObj.date, newObj.url, newObj.keywords)" data-ng-disabled="editForm.$invalid" data-toggle="modal" data-target="#myModal" data-dismiss="modal" data-backdrop="false">Submit</button>
            </div>
          </div>
        </form>
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="successModal" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="successModal">Success!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <p>Image edited successfully</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-ng-click="redirect()">Ok</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
